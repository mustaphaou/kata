<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Liste des produits</h2>
    <button *ngIf="authService.isAdmin()" class="btn btn-primary" [routerLink]="['/products/create']">
      + Créer un produit
    </button>
  </div>

  <table class="table table-bordered table-hover table-striped align-middle">
    <thead class="table-dark">
      <tr>
        <th scope="col">Image</th>
        <th scope="col">Nom</th>
        <th scope="col">Code</th>
        <th scope="col">Quantité</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of products">
        <td>
          <img [src]="product.image" alt="{{ product.name }}" class="img-thumbnail"
            style="max-width: 60px; max-height: 60px;" />
        </td>
        <td>{{ product.name }}</td>
        <td>{{ product.code }}</td>
        <td>{{ product.quantity }}</td>
        <td>
          <button class="btn btn-sm btn-warning me-2" *ngIf="authService.isAdmin()" [routerLink]="['/products/edit', product.id]">
            Modifier
          </button>
          <button *ngIf="authService.isAdmin()" class="btn btn-sm btn-danger me-2" (click)="deleteProduct(product.id)">
            Supprimer
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
